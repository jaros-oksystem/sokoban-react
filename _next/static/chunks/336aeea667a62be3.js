(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var r,n,l=e.i(43476),t=e.i(71645);function i(){return(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"mx-20 py-20",children:(0,l.jsx)(a,{})})})}var u=((r=u||{})[r.EMPTY=0]="EMPTY",r[r.WALL=1]="WALL",r[r.GOAL=2]="GOAL",r),o=((n=o||{})[n.UP=0]="UP",n[n.LEFT=1]="LEFT",n[n.DOWN=2]="DOWN",n[n.RIGHT=3]="RIGHT",n);function s(e,r,n=1){switch(r){case 0:return{x:e.x,y:e.y-n};case 1:return{x:e.x-n,y:e.y};case 2:return{x:e.x,y:e.y+n};case 3:return{x:e.x+n,y:e.y}}}function x(e){return{player:{x:e.initialPlayer.x,y:e.initialPlayer.y},turn:0,boxes:Array(...e.initialBoxes),won:!1}}function a(){let e=[void 0,void 0,void 0,void 0,void 0].map(()=>[,,,,,].fill(0));e[3][2]=1,e[3][0]=2,e[0][4]=2;let r={lenX:5,lenY:5,levelTiles:e,initialPlayer:{x:2,y:2},initialBoxes:[{x:1,y:1},{x:3,y:3}]},[n,i]=(0,t.useState)(r),[u,o]=(0,t.useState)(x(r));function a(e){let r=s(u.player,e);if(u.won||!f(r))return null;let l=null,t=!1,i=y(r);if(null!=i){let o=s(r,e);if(!f(o)||null!=y(o))return null;if((l=u.boxes.slice())[i]=o,2==n.levelTiles[o.x][o.y]){console.log("BOX WAS MOVED TO A GOAL"),t=!0;for(let e=0;e<u.boxes.length;e++){let r=u.boxes[e];if(e!=i&&2!=n.levelTiles[r.x][r.y]){t=!1;break}}}}return o({player:r,turn:u.turn+1,boxes:l??u.boxes,won:t}),r}function c(e){return 1==n.levelTiles[e.x][e.y]}function y(e){for(let r=0;r<u.boxes.length;r++){let n=u.boxes[r];if(n.x==e.x&&n.y==e.y)return r}return null}function f(e){var r;return!((r=e).x<0||r.x>=n.lenX||r.y<0||r.y>=n.lenY)&&!c(e)}console.log("Level info:"+JSON.stringify(n)+", Level state: "+JSON.stringify(u));let d=(0,t.useCallback)(e=>{let r=function(e){switch(e){case"ArrowUp":return 0;case"ArrowLeft":return 1;case"ArrowDown":return 2;case"ArrowRight":return 3;default:return null}}(e.key);null!=r&&a(r)},[a]);function v({x:e,y:r,colorClassName:t}){return(0,l.jsx)("button",{className:"text-3xl h-10 w-10 align-middle border-2 border-black -m-px "+t,children:function(e,r){let l={x:e,y:r},t=null!=y(l),i=c(l),o=u.player.x==l.x&&u.player.y==l.y,s=2==n.levelTiles[l.x][l.y],x=0==n.levelTiles[l.x][l.y];if(i&&o||i&&t||t&&o)return"☠";if(i)return"■";if(s&&t)return"ⵙ";if(s&&o)return"ᐷ";if(t)return"ⵔ";else if(o)return"ᐳ";else if(s)return"⸱";else if(x)return"";else return"☢"}(e,r)})}return(0,t.useEffect)(()=>{function e(e){d(e)}return document.addEventListener("keyup",e),()=>{document.removeEventListener("keyup",e)}},[d]),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"Turn: "+u.turn}),(0,l.jsx)("button",{onClick:()=>void o(x(r)),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"RESET"})]}),(0,l.jsx)("div",{children:Array.from({length:n.lenY},(e,r)=>(0,l.jsx)("div",{children:Array.from({length:n.lenX},(e,n)=>(0,l.jsx)(v,{x:n,y:r,colorClassName:u.won?"bg-green-200":""},"Tile, x:"+n+", y:"+r))},"Tile row div:"+r))})]})}e.s(["GameSimple",()=>a,"default",()=>i])}]);